{% extends 'base.html' %}

{% block title %}Detalhes da Tarefa - LawFirm Finance{% endblock %}

{% block content %}
    <h1 class="h2">Detalhes da Tarefa</h1>
    
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">{{ task.titulo }}</h5>
            <p class="card-text">{{ task.descricao|linebreaks }}</p>
            
            <div class="row">
                <div class="col-md-6">
                    <p><strong>Cliente:</strong> {{ task.cliente.nome|default:"-" }}</p>
                    <p><strong>Processo:</strong> {{ task.processo.titulo|default:"-" }}</p>
                    <p><strong>Data de Início:</strong> {{ task.data_inicio|date:"d/m/Y H:i" }}</p>
                    <p><strong>Data de Fim:</strong> {{ task.data_fim|date:"d/m/Y H:i"|default:"-" }}</p>
                </div>
                <div class="col-md-6">
                    <p><strong>Dia Todo:</strong> {% if task.dia_todo %}Sim{% else %}Não{% endif %}</p>
                    <p><strong>Prioridade:</strong> 
                        {% if task.prioridade == 'baixa' %}
                            <span class="badge bg-success">Baixa</span>
                        {% elif task.prioridade == 'media' %}
                            <span class="badge bg-warning">Média</span>
                        {% elif task.prioridade == 'alta' %}
                            <span class="badge bg-danger">Alta</span>
                        {% elif task.prioridade == 'urgente' %}
                            <span class="badge bg-danger">Urgente</span>
                        {% endif %}
                    </p>
                    <p><strong>Status:</strong> 
                        {% if task.status == 'pendente' %}
                            <span class="badge bg-secondary">Pendente</span>
                        {% elif task.status == 'em_andamento' %}
                            <span class="badge bg-primary">Em Andamento</span>
                        {% elif task.status == 'concluida' %}
                            <span class="badge bg-success">Concluída</span>
                        {% elif task.status == 'cancelada' %}
                            <span class="badge bg-danger">Cancelada</span>
                        {% endif %}
                    </p>
                </div>
            </div>
            
            <div class="mt-3">
                <a href="{% url 'dashboard:task_update' task.id %}" class="btn btn-warning">Editar</a>
                <a href="{% url 'dashboard:task_delete' task.id %}" class="btn btn-danger" onclick="return confirm('Tem certeza que deseja excluir esta tarefa?');">Excluir</a>
                <a href="{% url 'dashboard:task_list' %}" class="btn btn-secondary">Voltar</a>
            </div>
        </div>
    </div>
{% endblock %}