{% extends 'base.html' %}

{% block title %}{{ form_title }} - LawFirm Finance{% endblock %}

{% block content %}
    <h1 class="h2">{{ form_title }}</h1>

    <form method="post" action="">
        {% csrf_token %}
        {% for field in form %}
            {% if field.name == 'password' %}
                <div class="mb-3">
                    <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                    <input type="password" class="form-control" id="{{ field.id_for_label }}" name="{{ field.html_name }}" {% if button_text == 'Fechar' %}readonly{% endif %}>
                    {% if lawyer.id %}<small class="form-text text-muted">Deixe em branco para n√£o alterar a senha.</small>{% endif %}
                    {% if field.errors %}
                        <div class="text-danger">{{ field.errors }}</div>
                    {% endif %}
                </div>
            {% else %}
                <div class="mb-3">
                    <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}</label>
                    {{ field }}
                    {% if field.help_text %}
                        <div class="form-text">{{ field.help_text }}</div>
                    {% endif %}
                    {% if field.errors %}
                        <div class="text-danger">{{ field.errors }}</div>
                    {% endif %}
                </div>
            {% endif %}
        {% endfor %}
        
        {% if button_text == 'Fechar' %}
            <a href="{% url 'dashboard:lawyers' %}" class="btn btn-secondary">{{ button_text }}</a>
        {% else %}
            <button type="submit" class="btn btn-primary">{{ button_text }}</button>
            <a href="{% url 'dashboard:lawyers' %}" class="btn btn-secondary">Cancelar</a>
        {% endif %}
    </form>
{% endblock %}